= 创建 Linux 虚拟机

== 创建 Debian 虚拟机
[source,bash]
----
virt-install \
    --name=fnos \
    --vcpus=1,maxvcpus=2 \
    --memory=512,maxmemory=1024 \
    --cdrom ~/kvm/iso/fnos-x.x.x-xxx.iso \
    --disk path=~/kvm/data/fnos.qcow2,size=4 \
    --os-variant generic \
    --network bridge=br0 \
    --graphics vnc,listen=0.0.0.0,port=5900 \
    --console pty,target_type=serial \
    --noautoconsole \
    --virt-type kvm \
    --firmware bios
----

== 参数说明

* `--name=fnos`：虚拟机名称
* `--vcpus=1,maxvcpus=2`：CPU核心数，最大可扩展到2核
* `--memory=512,maxmemory=1024`：内存，最大可扩展到1024MB
* `--cdrom ~/kvm/iso/fnos-x.x.x-xxx.iso`：替换为你的ISO安装镜像的实际路径
* `--disk path=~/kvm/data/fnos.qcow2,size=4`：磁盘4GB，默认qcow2格式（KVM推荐）
* `--os-variant generic`：飞牛OS识别为通用Linux，避免检测失败
* `--network bridge=br0`：网络，桥接br0/ NAT virbr0，二选一
* `--graphics vnc,listen=0.0.0.0,port=5900`：VNC图形化，端口从5900开始编排（避免冲突）
* `--console pty,target_type=serial`：串口控制台，备用
* `--noautoconsole`：不自动打开控制台
* `--virt-type kvm`：虚拟化类型，固定KVM
* `--firmware bios`：固件BIOS，适配飞牛OS，强制 BIOS 启动，避免 UEFI 导致飞牛 OS 启动失败